---
// WoodworkingLayout.astro
const { title, showFrame = true } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{title}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style is:global>
      :root {
        /* Premium Artisanal Color Palette */
        --primary-bg: #faf9f6;           /* Warm cream white - museum quality */
        --secondary-bg: #f4f2ed;         /* Soft parchment */
        --accent-bg: #2c2b26;            /* Rich charcoal - sophisticated depth */
        
        --text-primary: #1a1917;         /* Deep espresso - premium readability */
        --text-secondary: #4a4740;       /* Warm charcoal grey */
        --text-muted: #7d7469;           /* Soft taupe */
        
        --brand-primary: #8b6914;        /* Antique gold - luxury craftsman */
        --brand-secondary: #5d4e2b;      /* Rich bronze */
        --brand-accent: #c49a3d;         /* Warm brass highlight */
        
        --wood-walnut: #3e2723;          /* Deep walnut brown */
        --wood-cherry: #8b4513;          /* Rich cherry red-brown */
        --wood-maple: #deb887;           /* Light maple cream */
        
        --metal-bronze: #cd7f32;         /* Authentic bronze */
        --metal-brass: #b5a642;          /* Aged brass */
        --metal-copper: #b87333;         /* Warm copper */
        
        --nature-sage: #87a96b;          /* Natural sage green */
        --nature-moss: #68855c;          /* Deep forest moss */
        --nature-stone: #a8a090;         /* Warm stone grey */
        
        --surface-card: #ffffff;         /* Pure white cards */
        --surface-elevated: #f8f7f4;     /* Elevated cream */
        --surface-border: #e5e1d8;       /* Subtle warm border */
        --surface-divider: #d4cfc4;      /* Soft division line */
        
        --shadow-light: rgba(26, 25, 23, 0.05);
        --shadow-medium: rgba(26, 25, 23, 0.1);
        --shadow-strong: rgba(26, 25, 23, 0.15);
        --shadow-brand: rgba(139, 105, 20, 0.2);
        
        --gradient-warm: linear-gradient(135deg, var(--primary-bg) 0%, var(--surface-elevated) 100%);
        --gradient-brand: linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-secondary) 100%);
        --gradient-metal: linear-gradient(135deg, var(--metal-bronze) 0%, var(--metal-brass) 100%);
        
        /* Spacing and Typography Scale */
        --space-xs: 0.25rem;
        --space-sm: 0.5rem;
        --space-md: 1rem;
        --space-lg: 1.5rem;
        --space-xl: 2rem;
        --space-2xl: 3rem;
        --space-3xl: 4rem;
        
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.125rem;
        --text-xl: 1.25rem;
        --text-2xl: 1.5rem;
        --text-3xl: 1.875rem;
        --text-4xl: 2.25rem;
        
        --border-radius-sm: 0.375rem;
        --border-radius-md: 0.5rem;
        --border-radius-lg: 0.75rem;
        --border-radius-xl: 1rem;
        
        --transition-fast: 0.15s ease-in-out;
        --transition-base: 0.25s ease-in-out;
        --transition-slow: 0.35s ease-in-out;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: var(--gradient-warm);
        color: var(--text-primary);
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-weight: 400;
        line-height: 1.6;
        font-size: var(--text-base);
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: var(--space-md) clamp(var(--space-md), 4vw, var(--space-2xl));
      }

      /* Enhanced Typography */
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Playfair Display', Georgia, serif;
        font-weight: 500;
        line-height: 1.2;
        margin: 0 0 var(--space-lg) 0;
        color: var(--text-primary);
        letter-spacing: -0.025em;
      }

      h1 {
        font-size: clamp(var(--text-3xl), 5vw, var(--text-4xl));
        font-weight: 700;
        color: var(--brand-primary);
        margin-bottom: var(--space-xl);
        position: relative;
      }

      h1::after {
        content: '';
        position: absolute;
        bottom: -var(--space-sm);
        left: 0;
        width: 60px;
        height: 3px;
        background: var(--gradient-brand);
        border-radius: var(--border-radius-sm);
      }

      h2 {
        font-size: var(--text-2xl);
        color: var(--brand-secondary);
        margin-top: var(--space-3xl);
        margin-bottom: var(--space-xl);
      }

      h3 {
        font-size: var(--text-xl);
        color: var(--text-primary);
        margin-top: var(--space-xl);
        margin-bottom: var(--space-md);
      }

      p {
        margin: 0 0 var(--space-lg) 0;
        color: var(--text-secondary);
      }

      .lead-paragraph {
        font-size: var(--text-lg);
        color: var(--text-primary);
        font-weight: 400;
        line-height: 1.7;
      }

      /* Enhanced Links */
      a {
        color: var(--brand-primary);
        text-decoration: none;
        font-weight: 500;
        transition: all var(--transition-base);
        position: relative;
      }

      a:hover {
        color: var(--brand-accent);
      }

      a:not(.button):hover::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--gradient-brand);
        animation: linkUnderline 0.3s ease-out;
      }

      @keyframes linkUnderline {
        from { transform: scaleX(0); }
        to { transform: scaleX(1); }
      }

      /* Premium Card Design */
      .gallery-frame,
      .content-card {
        background: var(--surface-card);
        border: 1px solid var(--surface-border);
        border-radius: var(--border-radius-xl);
        box-shadow: 
          0 4px 20px var(--shadow-light),
          0 1px 3px var(--shadow-medium);
        padding: var(--space-2xl);
        margin: var(--space-xl) 0;
        position: relative;
        overflow: hidden;
        transition: all var(--transition-base);
      }

      .gallery-frame::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-brand);
      }

      .gallery-frame:hover {
        transform: translateY(-2px);
        box-shadow: 
          0 8px 30px var(--shadow-medium),
          0 2px 6px var(--shadow-strong);
      }

      /* Enhanced Navigation */
      .menu-toggle {
        position: fixed;
        top: var(--space-lg);
        right: var(--space-lg);
        background: var(--surface-card);
        border: 1px solid var(--surface-border);
        color: var(--brand-primary);
        font-family: 'Inter', sans-serif;
        font-size: var(--text-sm);
        font-weight: 600;
        padding: var(--space-sm) var(--space-lg);
        border-radius: var(--border-radius-lg);
        cursor: pointer;
        z-index: 1001;
        box-shadow: 0 2px 12px var(--shadow-light);
        transition: all var(--transition-base);
        backdrop-filter: blur(10px);
      }

      .menu-toggle:hover {
        background: var(--brand-primary);
        color: var(--surface-card);
        transform: translateY(-1px);
        box-shadow: 0 4px 20px var(--shadow-brand);
      }

      .menu-box {
        display: none;
        position: fixed;
        top: calc(var(--space-lg) + 60px);
        right: var(--space-lg);
        background: var(--surface-card);
        border: 1px solid var(--surface-border);
        border-radius: var(--border-radius-lg);
        padding: var(--space-lg);
        z-index: 1000;
        box-shadow: 
          0 8px 32px var(--shadow-medium),
          0 4px 12px var(--shadow-light);
        backdrop-filter: blur(20px);
        min-width: 180px;
        animation: menuSlideIn 0.2s ease-out;
      }

      @keyframes menuSlideIn {
        from {
          opacity: 0;
          transform: translateY(-10px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .menu-box.show {
        display: block;
      }

      .menu-box ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .menu-box li {
        margin-bottom: var(--space-md);
        last-child: {
          margin-bottom: 0;
        }
      }

      .menu-box a {
        color: var(--text-primary);
        font-weight: 500;
        padding: var(--space-sm) 0;
        display: block;
        border-radius: var(--border-radius-sm);
        transition: all var(--transition-fast);
      }

      .menu-box a:hover {
        color: var(--brand-primary);
        background: var(--surface-elevated);
        padding-left: var(--space-sm);
      }

      /* Button Styles */
      .button, .primary-cta, .secondary-cta {
        display: inline-block;
        padding: var(--space-md) var(--space-xl);
        border-radius: var(--border-radius-md);
        font-weight: 600;
        text-align: center;
        transition: all var(--transition-base);
        cursor: pointer;
        border: none;
        text-decoration: none;
        font-family: 'Inter', sans-serif;
      }

      .primary-cta {
        background: var(--gradient-brand);
        color: var(--surface-card);
        box-shadow: 0 2px 12px var(--shadow-brand);
      }

      .primary-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px var(--shadow-brand);
        color: var(--surface-card);
      }

      .secondary-cta {
        background: var(--surface-card);
        color: var(--brand-primary);
        border: 2px solid var(--brand-primary);
      }

      .secondary-cta:hover {
        background: var(--brand-primary);
        color: var(--surface-card);
        transform: translateY(-1px);
      }

      /* Enhanced Footer */
      footer {
        margin-top: var(--space-3xl);
        padding: var(--space-2xl) 0;
        border-top: 1px solid var(--surface-divider);
        font-size: var(--text-sm);
        color: var(--text-muted);
        text-align: center;
        background: var(--surface-elevated);
      }

      footer p {
        margin: var(--space-sm) 0;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .container {
          padding: var(--space-md);
        }
        
        .gallery-frame {
          padding: var(--space-lg);
          margin: var(--space-lg) 0;
        }
        
        .menu-toggle {
          top: var(--space-md);
          right: var(--space-md);
        }
        
        .menu-box {
          top: calc(var(--space-md) + 50px);
          right: var(--space-md);
          left: var(--space-md);
          min-width: unset;
        }
      }

      /* Accessibility */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Focus states for keyboard navigation */
      .menu-toggle:focus,
      .menu-box a:focus {
        outline: 2px solid var(--brand-primary);
        outline-offset: 2px;
      }

      /* Print styles */
      @media print {
        .menu-toggle,
        .menu-box {
          display: none;
        }
        
        body {
          background: white;
          color: black;
        }
        
        .gallery-frame {
          box-shadow: none;
          border: 1px solid #ccc;
        }
      }
    </style>
  </head>

  <body>
    <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">Menu</button>
    <nav class="menu-box" id="menuBox" role="navigation" aria-label="Main navigation">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/portfolio">Portfolio</a></li>
        <li><a href="/commissions">Commissions</a></li>
        <li><a href="/studio">Studio</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>

    <div class="container">
      {showFrame ? (
        <article class="gallery-frame">
          <main>
            <h1>{title}</h1>
            <slot />
          </main>
        </article>
      ) : (
        <main>
          <h1>{title}</h1>
          <slot />
        </main>
      )}
    </div>

    <script is:global>
      document.addEventListener('DOMContentLoaded', () => {
        const toggle = document.getElementById('menuToggle');
        const box = document.getElementById('menuBox');
        
        toggle.addEventListener('click', () => {
          box.classList.toggle('show');
          toggle.setAttribute('aria-expanded', box.classList.contains('show'));
        });
        
        document.addEventListener('click', (e) => {
          if (!box.contains(e.target) && e.target !== toggle) {
            box.classList.remove('show');
            toggle.setAttribute('aria-expanded', 'false');
          }
        });
        
        // Escape key closes menu
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && box.classList.contains('show')) {
            box.classList.remove('show');
            toggle.setAttribute('aria-expanded', 'false');
            toggle.focus();
          }
        });
      });
    </script>

    <footer>
      <div class="container">
        <p>&copy; 2025 Matthew Merwin. All rights reserved.</p>
        <p>Handcrafted with care in Bucks County, Pennsylvania</p>
        <p style="font-size: var(--text-xs); margin-top: var(--space-md);">Website by Arynwood</p>
      </div>
    </footer>
  </body>
</html>