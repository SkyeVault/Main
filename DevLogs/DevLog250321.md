**Creating NFT Metadata and Uploading to IPFS (Web3.Storage)**

**Date:** 250321

**Project:** NFT Collection #1 ("Aurora's Echo" and 9 others)

---

### Step 1: Prepare Image Files
- Created 10 digital paintings, saved as PNG files.
- Named sequentially: `painting_01.png`, `painting_02.png`, etc.

### Step 2: Upload Paintings to IPFS
- Used [https://web3.storage/](https://web3.storage/) to upload all 10 painting images.
- Each file received a unique IPFS CID.
- Confirmed image availability by visiting:
  `https://ipfs.io/ipfs/<CID>/<filename>.png`

### Step 3: Write Metadata JSON Files
- Created names and descriptions for each painting.
- Format:
  ```json
  {
    "name": "Aurora's Echo",
    "description": "A feathered traveler bathed in the hues of dawn...",
    "image": "ipfs://<CID>/painting_01.png"
  }
  ```
- Wrote a Python script (`generate_metadata.py`) to generate all 10 metadata JSON files. this fiile can be found in blockchain/scripts folder.
- Important correction: Replaced incorrect links like `ipfs://...ipfs.w3s.link` with proper IPFS paths.

### Step 4: Upload Metadata to Web3.Storage
- Uploaded the `metadata/` folder to Web3.Storage.
- Copied the root CID (for use in the smart contract).
- Verified metadata accessibility:
  - Opened: `https://ipfs.io/ipfs/<metadata_CID>/metadata1.json`
  - Checked that `image` field correctly pointed to painting PNG.
  - Previewed images by replacing `ipfs://` with `https://ipfs.io/ipfs/`

### Whatâ€™s Working 
- All metadata and image files load correctly via IPFS.
- Each metadata file has:
  - Title
  - Description
  - Valid IPFS image link

### Next Step
- Write smart contract (`TopSecurityNFT.sol`) using `tokenURI()` pattern:
  ```solidity
  function tokenURI(uint256 tokenId) public view override returns (string memory) {
      return string(abi.encodePacked("ipfs://<metadata_CID>/metadata", Strings.toString(tokenId), ".json"));
  }
  ```
- Deploy to Polygon Mumbai and test first mint!

---

**Notes:**
- This process was stressful at times, especially verifying IPFS links and getting the image references right.
- Learned that `ipfs://` is preferred in metadata, and platforms like OpenSea will resolve it via gateway.

**Status:** Metadata is complete and verified. Smart contract phase begins next.

